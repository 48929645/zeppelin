{
  "paragraphs": [
    {
      "title": "Introduction",
      "text": "%md\n\nThis note is a tutorial note for Flink batch scenario. You can run flink scala api via `%flink` and run flink batch sql via `%flink.bsql`. \n",
      "user": "anonymous",
      "dateUpdated": "2019-02-02 13:20:10.303",
      "config": {
        "tableHide": false,
        "editorSetting": {
          "language": "markdown",
          "editOnDblClick": true,
          "completionKey": "TAB",
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "fontSize": 9.0,
        "editorHide": true,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003cdiv class\u003d\"markdown-body\"\u003e\n\u003cp\u003eThis note is a tutorial note for Flink batch scenario. You can run flink scala api via \u003ccode\u003e%flink\u003c/code\u003e and run flink batch sql via \u003ccode\u003e%flink.bsql\u003c/code\u003e.\u003c/p\u003e\n\u003c/div\u003e"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1547794482637_957545547",
      "id": "paragraph_1547794482637_957545547",
      "dateCreated": "2019-01-18 14:54:42.637",
      "dateStarted": "2019-02-02 13:20:10.353",
      "dateFinished": "2019-02-02 13:20:11.621",
      "status": "FINISHED"
    },
    {
      "title": "Configure Flink Interpreter",
      "text": "%flink.conf\n\nFLINK_HOME /Users/jzhang/github/flink-ali/build-target\nflink.execution.mode local\nflink.yarn.tm.num 2\n\n#rest.port 8091\n#flink.execution.packages com.alibaba.blink:flink-connector-kafka-0.11_2.11:1.5.1-SNAPSHOT,com.alibaba.blink:flink-connector-filesystem_2.11:1.5.1-SNAPSHOT\n\nquery.proxy.ports 9289-9989\nquery.server.ports 9287-9987\n\n#state.savepoints.dir: file:///blink/save_point\n#taskmanager.numberOfTaskSlots 4\n#local.number-taskmanager 4\n#taskmanager.managed.memory.size 512\n\nparallelism.default 1\nsql.resource.default.parallelism 1\n\n\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-26 09:09:42.083",
      "config": {
        "editorSetting": {
          "language": "text",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/text",
        "fontSize": 9.0,
        "editorHide": false,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546565092490_1952685806",
      "id": "paragraph_1546565092490_1952685806",
      "dateCreated": "2019-01-04 09:24:52.490",
      "dateStarted": "2019-03-26 09:09:42.094",
      "dateFinished": "2019-03-26 09:09:42.099",
      "status": "FINISHED"
    },
    {
      "text": "%flink.ssql\n\nCREATE TABLE source (msg INT) WITH (type \u003d \u0027csv\u0027, path\u003d\u0027file:///Users/jzhang/Temp/a.txt\u0027);\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-15 15:13:21.817",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Table has been created."
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552484599529_-1668923151",
      "id": "paragraph_1552484599529_-1668923151",
      "dateCreated": "2019-03-13 21:43:19.529",
      "dateStarted": "2019-03-15 15:13:21.822",
      "dateFinished": "2019-03-15 15:14:15.157",
      "status": "FINISHED"
    },
    {
      "text": "%flink.ssql\n\nCREATE TABLE dest(msg INT) WITH (type \u003d \u0027csv\u0027, path\u003d\u0027file:///tmp/a\u0027) ;",
      "user": "anonymous",
      "dateUpdated": "2019-03-15 15:14:21.843",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Table has been created."
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552484607472_1205771979",
      "id": "paragraph_1552484607472_1205771979",
      "dateCreated": "2019-03-13 21:43:27.472",
      "dateStarted": "2019-03-15 15:14:21.847",
      "dateFinished": "2019-03-15 15:14:22.295",
      "status": "FINISHED"
    },
    {
      "text": "%flink.ssql\n\nshow tables",
      "user": "anonymous",
      "dateUpdated": "2019-03-15 14:56:54.954",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "table": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "table\nsource\ndest"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552487633517_-633679185",
      "id": "paragraph_1552487633517_-633679185",
      "dateCreated": "2019-03-13 22:33:53.517",
      "dateStarted": "2019-03-15 14:56:54.960",
      "dateFinished": "2019-03-15 14:56:55.456",
      "status": "FINISHED"
    },
    {
      "text": "%flink.ssql\n\nINSERT INTO dest SELECT * FROM source;",
      "user": "anonymous",
      "dateUpdated": "2019-03-15 15:14:25.947",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": false
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552484624678_-1452618104",
      "id": "paragraph_1552484624678_-1452618104",
      "dateCreated": "2019-03-13 21:43:44.678",
      "dateStarted": "2019-03-15 15:14:25.950",
      "dateFinished": "2019-03-15 15:17:36.496",
      "status": "FINISHED"
    },
    {
      "text": "%flink\n\nsenv.fromElements(1,2,3).print()\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-15 15:18:14.479",
      "config": {
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionSupport": true,
          "completionKey": "TAB"
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\u001b[1m\u001b[34mres1\u001b[0m: \u001b[1m\u001b[32morg.apache.flink.streaming.api.datastream.DataStreamSink[Int]\u001b[0m \u003d org.apache.flink.streaming.api.datastream.DataStreamSink@7e87693d\n"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552634261379_2146209763",
      "id": "paragraph_1552634261379_2146209763",
      "dateCreated": "2019-03-15 15:17:41.380",
      "dateStarted": "2019-03-15 15:18:14.485",
      "dateFinished": "2019-03-15 15:18:15.385",
      "status": "FINISHED"
    },
    {
      "title": "DataSet WordCount",
      "text": "%flink\n\nval data \u003d benv.fromElements(\"hello world\", \"hello flink\", \"hello hadoop\")\n\ndata.flatMap(line \u003d\u003e line.split(\"\\\\s\")).\n    map(w \u003d\u003e (w, 1)).\n    groupBy(0).\n    sum(1)\n    .print()\n\n\n\n\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-13 16:51:01.487",
      "config": {
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "(flink,1)\n(hadoop,1)\n(hello,3)\n(world,1)\n\u001b[1m\u001b[34mdata\u001b[0m: \u001b[1m\u001b[32morg.apache.flink.api.scala.DataSet[String]\u001b[0m \u003d org.apache.flink.api.scala.DataSet@1c4d330e\n"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546565742006_1771097539",
      "id": "paragraph_1546565742006_1771097539",
      "dateCreated": "2019-01-04 09:35:42.007",
      "dateStarted": "2019-03-13 16:51:01.493",
      "dateFinished": "2019-03-13 16:51:19.613",
      "status": "FINISHED"
    },
    {
      "text": "%flink\n\nval a\u003d \"Hello world\"",
      "user": "anonymous",
      "dateUpdated": "2019-03-13 16:51:57.925",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "editorMode": "ace/mode/scala"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\u001b[1m\u001b[34ma\u001b[0m: \u001b[1m\u001b[32mString\u001b[0m \u003d Hello world\n"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552467109781_435962121",
      "id": "paragraph_1552467109781_435962121",
      "dateCreated": "2019-03-13 16:51:49.782",
      "dateStarted": "2019-03-13 16:51:57.931",
      "dateFinished": "2019-03-13 16:51:58.459",
      "status": "FINISHED"
    },
    {
      "title": "Table API WordCount",
      "text": "%flink\n\nval data \u003d senv.fromElements(\"hello world\", \"hello flink\", \"hello hadoop\").\n    flatMap(line \u003d\u003e line.split(\"\\\\s\")).\n    map(w \u003d\u003e (w, 1))\n\nbtenv.registerOrReplaceBoundedStream(\"wc\", \n    data, \n    \u0027word,\u0027number)\n    \n    \n\n\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-13 17:30:54.575",
      "config": {
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/scala",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\u001b[1m\u001b[34mdata\u001b[0m: \u001b[1m\u001b[32morg.apache.flink.streaming.api.scala.DataStream[(String, Int)]\u001b[0m \u003d org.apache.flink.streaming.api.scala.DataStream@9ef1d49\n"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546565111298_718443464",
      "id": "paragraph_1546565111298_718443464",
      "dateCreated": "2019-01-04 09:25:11.298",
      "dateStarted": "2019-03-13 17:30:54.586",
      "dateFinished": "2019-03-13 17:31:10.519",
      "status": "FINISHED"
    },
    {
      "text": "%flink.bsql\n\nshow tables\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-13 17:31:13.331",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": true,
          "completionKey": "TAB"
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "table": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "table\nwc"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1552469457205_-985573419",
      "id": "paragraph_1552469457205_-985573419",
      "dateCreated": "2019-03-13 17:30:57.205",
      "dateStarted": "2019-03-13 17:31:12.159",
      "dateFinished": "2019-03-13 17:31:12.760",
      "status": "FINISHED"
    },
    {
      "title": "SQL WordCount",
      "text": "%flink.bsql\n\nselect word, sum(number) as c from wc group by word \n\n ",
      "user": "anonymous",
      "dateUpdated": "2019-03-26 09:12:05.519",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "word": "string",
                      "c": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "stackedAreaChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "lineChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "word",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "c",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "word\tc\nhello\t3\nworld\t1\nflink\t1\nhadoop\t1"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546565133048_-1040609225",
      "id": "paragraph_1546565133048_-1040609225",
      "dateCreated": "2019-01-04 09:25:33.048",
      "dateStarted": "2019-03-13 17:00:24.161",
      "dateFinished": "2019-03-13 17:00:28.666",
      "status": "FINISHED"
    },
    {
      "title": "Table API Join",
      "text": "%flink\n\nval data1 \u003d senv.fromElements((1, \"Jeff\"), (2, \"Lucy\"), (3, \"James\"))\nval data2 \u003d senv.fromElements((1, \"Male\"), (2, \"Female\"), (3, \"Male\"))\n\nbtenv.registerOrReplaceBoundedStream(\"t1\", data1, \n    \u0027id, \u0027name)\nbtenv.registerOrReplaceBoundedStream(\"t2\", data2,\n    \u0027id, \u0027gender)\n\nbtenv.sqlQuery(\"select gender from t1 join t2 on t1.id \u003d t2.id\").collect()",
      "user": "anonymous",
      "dateUpdated": "2019-02-02 13:20:16.442",
      "config": {
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/scala",
        "fontSize": 9.0,
        "title": true,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546565732893_1145291433",
      "id": "paragraph_1546565732893_1145291433",
      "dateCreated": "2019-01-04 09:35:32.893",
      "dateStarted": "2019-02-02 13:20:16.728",
      "dateFinished": "2019-02-02 13:20:17.374",
      "status": "FINISHED"
    },
    {
      "title": "SQL Join",
      "text": "%flink.bsql(parallelism\u003d2)\n\nselect gender, count(1) as c from\n(select gender from t1 join t2 on t1.id \u003d t2.id)\ngroup by gender\n",
      "user": "anonymous",
      "dateUpdated": "2019-02-02 13:20:17.377",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "gender": "string",
                      "c": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "gender",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "c",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546566068135_905898303",
      "id": "paragraph_1546566068135_905898303",
      "dateCreated": "2019-01-04 09:41:08.137",
      "dateStarted": "2019-02-02 13:20:17.385",
      "dateFinished": "2019-02-02 13:20:18.080",
      "status": "FINISHED"
    },
    {
      "title": "Load Bank Data",
      "text": "%flink\n\nval bankText \u003d senv.readTextFile(\"/Users/jzhang/bank.csv\")\nval bank \u003d bankText.map(s \u003d\u003e s.split(\";\")).filter(s \u003d\u003e s(0) !\u003d \"\\\"age\\\"\").map(\n    s \u003d\u003e (s(0).toInt,\n          s(1).replaceAll(\"\\\"\", \"\"),\n          s(2).replaceAll(\"\\\"\", \"\"),\n          s(3).replaceAll(\"\\\"\", \"\"),\n          s(5).replaceAll(\"\\\"\", \"\").toInt\n        )\n    )\n\nbtenv.registerOrReplaceBoundedStream(\"bank\", bank, \u0027age, \u0027job, \u0027marital, \u0027education, \u0027balance)\n\n\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-26 09:09:47.363",
      "config": {
        "editorSetting": {
          "language": "scala",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "fontSize": 9.0,
        "title": true,
        "results": {
          "0": {
            "graph": {
              "mode": "table",
              "height": 111.0,
              "optionOpen": false
            }
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "\u001b[1m\u001b[34mbankText\u001b[0m: \u001b[1m\u001b[32morg.apache.flink.streaming.api.scala.DataStream[String]\u001b[0m \u003d org.apache.flink.streaming.api.scala.DataStream@2828af97\n\u001b[1m\u001b[34mbank\u001b[0m: \u001b[1m\u001b[32morg.apache.flink.streaming.api.scala.DataStream[(Int, String, String, String, Int)]\u001b[0m \u003d org.apache.flink.streaming.api.scala.DataStream@5313afed\n"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546584347815_1533642635",
      "id": "paragraph_1546584347815_1533642635",
      "dateCreated": "2019-01-04 14:45:47.816",
      "dateStarted": "2019-03-26 09:09:47.369",
      "dateFinished": "2019-03-26 09:10:03.815",
      "status": "FINISHED"
    },
    {
      "text": "%flink.bsql\n\nselect age, count(1) as v \nfrom bank \nwhere age \u003c ${maxAge\u003d30} \ngroup by age \norder by age",
      "user": "anonymous",
      "dateUpdated": "2019-03-26 09:10:09.003",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "results": {
          "0": {
            "graph": {
              "mode": "pieChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "age": "string",
                      "v": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "age",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "v",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {
          "maxAge": "40"
        },
        "forms": {
          "maxAge": {
            "type": "TextBox",
            "name": "maxAge",
            "defaultValue": "30",
            "hidden": false
          }
        }
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "age\tv\n19\t4\n20\t3\n21\t7\n22\t9\n23\t20\n24\t24\n25\t44\n26\t77\n27\t94\n28\t103\n29\t97\n30\t150\n31\t199\n32\t224\n33\t186\n34\t231\n35\t180\n36\t188\n37\t161\n38\t159\n39\t130"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546592465802_-1181051373",
      "id": "paragraph_1546592465802_-1181051373",
      "dateCreated": "2019-01-04 17:01:05.802",
      "dateStarted": "2019-03-26 09:10:09.009",
      "dateFinished": "2019-03-26 09:10:14.631",
      "status": "FINISHED"
    },
    {
      "text": "%flink.bsql\n\nselect age, count(1) as v \nfrom bank \nwhere marital\u003d\u0027${marital\u003dsingle,single|divorced|married}\u0027 \ngroup by age \norder by age",
      "user": "anonymous",
      "dateUpdated": "2019-03-26 09:12:05.642",
      "config": {
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 6.0,
        "editorMode": "ace/mode/sql",
        "fontSize": 9.0,
        "runOnSelectionChange": true,
        "results": {
          "0": {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "age": "string",
                      "v": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                },
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "lineChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                },
                "stackedAreaChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {},
              "keys": [
                {
                  "name": "age",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "values": [
                {
                  "name": "v",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ]
            },
            "helium": {}
          }
        },
        "enabled": true
      },
      "settings": {
        "params": {
          "marital": "married"
        },
        "forms": {
          "marital": {
            "type": "Select",
            "options": [
              {
                "value": "single"
              },
              {
                "value": "divorced"
              },
              {
                "value": "married"
              }
            ],
            "name": "marital",
            "defaultValue": "single",
            "hidden": false
          }
        }
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "age\tv\n23\t3\n24\t11\n25\t11\n26\t18\n27\t26\n28\t23\n29\t37\n30\t56\n31\t104\n32\t105\n33\t103\n34\t142\n35\t109\n36\t117\n37\t100\n38\t99\n39\t88\n40\t105\n41\t97\n42\t91\n43\t79\n44\t68\n45\t76\n46\t82\n47\t78\n48\t91\n49\t87\n50\t74\n51\t63\n52\t66\n53\t75\n54\t56\n55\t68\n56\t50\n57\t78\n58\t67\n59\t56\n60\t36\n61\t15\n62\t5\n63\t7\n64\t6\n65\t4\n66\t7\n67\t5\n68\t1\n69\t5\n70\t5\n71\t5\n72\t4\n73\t6\n74\t2\n75\t3\n76\t1\n77\t5\n78\t2\n79\t3\n80\t6\n81\t1\n83\t2\n86\t1\n87\t1"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1546592478596_-1766740165",
      "id": "paragraph_1546592478596_-1766740165",
      "dateCreated": "2019-01-04 17:01:18.596",
      "dateStarted": "2019-03-26 09:10:35.535",
      "dateFinished": "2019-03-26 09:10:37.334",
      "status": "FINISHED"
    },
    {
      "text": "%flink.bsql\n\nselect * from bank",
      "user": "anonymous",
      "dateUpdated": "2019-03-25 21:08:35.279",
      "config": {
        "colWidth": 12.0,
        "fontSize": 9.0,
        "enabled": true,
        "results": {},
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionSupport": false
        },
        "editorMode": "ace/mode/sql"
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": []
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1553519306292_-752764081",
      "id": "paragraph_1553519306292_-752764081",
      "dateCreated": "2019-03-25 21:08:26.292",
      "dateStarted": "2019-03-25 21:08:35.283",
      "dateFinished": "2019-03-25 21:08:37.088",
      "status": "FINISHED"
    },
    {
      "text": "%python\n\nimport sys\n\nprint(\"begin\")\nexit(2)\nprint(\"end\")",
      "user": "anonymous",
      "dateUpdated": "2019-03-20 22:56:42.759",
      "config": {
        "editorSetting": {
          "language": "python",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        },
        "colWidth": 12.0,
        "editorMode": "ace/mode/python",
        "fontSize": 9.0,
        "results": {},
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "ERROR",
        "msg": [
          {
            "type": "TEXT",
            "data": "begin\n"
          },
          {
            "type": "TEXT",
            "data": "Fail to execute line 4: exit(2)\nTraceback (most recent call last):\n  File \"/tmp/1553093712487-0/zeppelin_python.py\", line 153, in \u003cmodule\u003e\n    exec(code, _zcUserQueryNameSpace)\n  File \"\u003cstdin\u003e\", line 4, in \u003cmodule\u003e\n  File \"/Users/jzhang/anaconda3/lib/python3.7/_sitebuiltins.py\", line 26, in __call__\n    raise SystemExit(code)\nSystemExit: 2\n"
          }
        ]
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1548055176047_1680275535",
      "id": "paragraph_1548055176047_1680275535",
      "dateCreated": "2019-01-21 15:19:36.088",
      "dateStarted": "2019-03-20 22:56:42.765",
      "dateFinished": "2019-03-20 22:56:42.773",
      "status": "ERROR"
    },
    {
      "text": "%python\n",
      "user": "anonymous",
      "dateUpdated": "2019-03-20 22:55:10.610",
      "config": {},
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "progressUpdateIntervalMs": 500,
      "jobName": "paragraph_1553093710610_-1734599499",
      "id": "paragraph_1553093710610_-1734599499",
      "dateCreated": "2019-03-20 22:55:10.610",
      "status": "READY"
    }
  ],
  "name": "Flink Batch Tutorial",
  "id": "2E31Y6T85",
  "defaultInterpreterGroup": "flink",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {},
  "config": {
    "isZeppelinNotebookCronEnable": false
  },
  "info": {}
}